// Default node deployment configuration
//
// This is shipped in the application archive but can be overridden
// on the command-line.
//
name = "two-node-active-standby-application"
version = "1.0.0"
type = "com.tibco.ep.dtm.configuration.node"

configuration = {
    NodeDeploy = {
        nodes = {
            "A.2node-as-app" = {
                engines = {
                    2node-as-ef = {
                        fragmentIdentifier = "com.tibco.ep.samples.highavailability.2node-as-ef"                                                                
                    }                                                    
                }
                availabilityZoneMemberships = {
                    static-availability-zone = {
                        staticPartitionBindings = {
                            P1 = {
                                type = ACTIVE
                            }
                        }
                    }
                }
            }
            "B.2node-as-app" = {
                engines = {
                    2node-as-ef = {
                        fragmentIdentifier = "com.tibco.ep.samples.highavailability.2node-as-ef"                                                                
                    }                                                    
                }
                availabilityZoneMemberships = {
                    static-availability-zone = {
                        staticPartitionBindings = {
                            P1 = {
                                type = REPLICA
                            }
                        }
                    }
                }
            }
        }
        availabilityZones = {
            static-availability-zone = {
                dataDistributionPolicy = static-data-distribution-policy
                staticPartitionPolicy = {
                    staticPartitions = {
                        P1 = {
                        }
                    }
                }
            }
        }
    }
}